<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>My Digital Card</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2563eb">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
body{margin:0;font-family:system-ui;background:#0f172a;color:white}
.topbar{
 display:flex;justify-content:space-around;
 padding:10px;background:#020617
}
.topbar a{color:white;font-size:18px}

.profile{
 display:flex;gap:12px;
 padding:16px;background:#1e293b
}
.profile img{
 width:70px;height:70px;border-radius:50%;
 object-fit:cover;border:2px solid white
}

.info{font-size:13px}

.slider{
 display:flex;overflow-x:auto;
 scroll-snap-type:x mandatory;
}
.slide{
 min-width:90%;margin:10px;
 background:#2563eb;
 padding:16px;border-radius:16px;
 scroll-snap-align:center
}
.slide img{
 width:100%;height:120px;
 object-fit:cover;border-radius:10px
}

.actions{
 display:flex;justify-content:space-around;
 padding:16px;background:#020617
}
.actions a{
 color:white;font-size:22px
}
</style>
</head>

<body>

<div class="topbar">
<a id="share"><i class="fa fa-share"></i></a>
<a id="download"><i class="fa fa-download"></i></a>
<a id="map"><i class="fa fa-map"></i></a>
<a id="sms"><i class="fa fa-comment"></i></a>
</div>

<div class="profile">
<img id="photo">
<div class="info">
<div id="name"></div>
<div id="business"></div>
<div id="phone"></div>
<div id="email"></div>
<div id="address"></div>
</div>
</div>

<div class="slider">
<div class="slide">
<h3>About</h3>
<p id="about"></p>
</div>
<div class="slide">
<h3>Services</h3>
<p>Professional business services</p>
</div>
<div class="slide">
<h3>Portfolio</h3>
<p>Swipe cards like gallery</p>
</div>
</div>

<div class="actions">
<a id="call"><i class="fa fa-phone"></i></a>
<a id="wa"><i class="fab fa-whatsapp"></i></a>
<a id="mail"><i class="fa fa-envelope"></i></a>
<a id="fb"><i class="fab fa-facebook"></i></a>
<a id="ig"><i class="fab fa-instagram"></i></a>
<a id="yt"><i class="fab fa-youtube"></i></a>
</div>

<script>
const p=new URLSearchParams(location.search);
const d=JSON.parse(atob(p.get("data")));

photo.src=d.profileImage;
name.textContent=d.name;
business.textContent=d.businessName;
phone.textContent="ðŸ“ž "+d.phone;
email.textContent="âœ‰ï¸ "+d.email;
address.textContent="ðŸ“ "+d.address;
about.textContent=d.businessInfo;

call.href="tel:"+d.phone;
wa.href="https://wa.me/"+d.phone;
mail.href="mailto:"+d.email;
map.href="https://maps.google.com/?q="+encodeURIComponent(d.address);
sms.href="sms:"+d.phone;

if(d.facebook) fb.href=d.facebook;
if(d.instagram) ig.href=d.instagram;
if(d.youtube) yt.href=d.youtube;

share.onclick=()=>{
 navigator.share({
  title:d.name,
  text:d.businessName,
  url:location.href
 });
}

download.onclick=()=>{
 const a=document.createElement("a");
 a.href=d.profileImage;
 a.download="profile.jpg";
 a.click();
}
</script>
</body>
</html>
