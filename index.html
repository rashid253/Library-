<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Create Smart Card</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:system-ui;background:#f1f5f9}
.wrap{max-width:420px;margin:auto;padding:16px}
input,textarea{width:100%;padding:10px;margin:6px 0;border-radius:8px;border:1px solid #ccc}
button{width:100%;padding:14px;border:none;border-radius:10px;background:#2563eb;color:white;font-size:16px}
</style>
</head>
<body>
<div class="wrap">
<h2>Create Digital Card</h2>

<input type="file" id="profileImage">
<input id="name" placeholder="Full Name">
<input id="businessName" placeholder="Business / Title">
<textarea id="businessInfo" placeholder="About business"></textarea>
<input id="address" placeholder="Address">
<input id="phone" placeholder="Phone (92xxxxxxxx)">
<input id="email" placeholder="Email">
<input id="facebook" placeholder="Facebook link">
<input id="instagram" placeholder="Instagram link">
<input id="youtube" placeholder="YouTube link">

<button id="generate">Generate Card</button>
</div>

<script>
generate.onclick=()=>{
 const data={
  name:name.value,
  businessName:businessName.value,
  businessInfo:businessInfo.value,
  address:address.value,
  phone:phone.value,
  email:email.value,
  facebook:facebook.value,
  instagram:instagram.value,
  youtube:youtube.value,
  profileImage:""
 };

 const f=profileImage.files[0];
 const fd=new FormData();
 fd.append("file",f);
 fd.append("upload_preset","card_images");

 fetch("https://api.cloudinary.com/v1_1/dfbzg4xae/image/upload",{
  method:"POST",body:fd
 })
 .then(r=>r.json())
 .then(res=>{
  data.profileImage=res.secure_url;
  location.href="card.html?data="+btoa(JSON.stringify(data));
 });
}
</script>
</body>
</html>
