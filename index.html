<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Business Card Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2563eb">

<style>
body{
  margin:0;
  padding:20px;
  font-family:system-ui;
  background:linear-gradient(135deg,#e9ecef,#f4f6f8);
  display:flex;
  justify-content:center;
}
.form-box{
  width:100%;
  max-width:420px;
  background:#fff;
  border-radius:16px;
  padding:20px;
  box-shadow:0 10px 30px rgba(0,0,0,.12);
}
h2{text-align:center;color:#0f172a;}
.group{margin-bottom:14px;}
label{font-weight:600;display:block;margin-bottom:4px;}
input,textarea{
  width:100%;
  padding:10px;
  border-radius:6px;
  border:1px solid #ccc;
  font-size:14px;
}
textarea{resize:vertical;}
button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:8px;
  background:#2563eb;
  color:white;
  font-size:16px;
  cursor:pointer;
}
.image-box{
  border:2px dashed #ccc;
  text-align:center;
  padding:16px;
  border-radius:10px;
}
#profileImage{display:none;}
#preview{
  width:90px;height:90px;
  border-radius:50%;
  object-fit:cover;
  display:none;margin:10px auto 0;
}
</style>
</head>

<body>
<div class="form-box">
<h2>Create Business Card</h2>

<div class="group image-box">
  <label for="profileImage">Upload Profile Photo *</label>
  <input type="file" id="profileImage" accept="image/*">
  <img id="preview">
</div>

<div class="group">
  <label>Full Name *</label>
  <input id="name" required>
</div>

<div class="group">
  <label>Business / Job Title *</label>
  <input id="businessName" required>
</div>

<div class="group">
  <label>About You / Company *</label>
  <textarea id="businessInfo" rows="4" required></textarea>
</div>

<div class="group">
  <label>Address (City, Country) *</label>
  <input id="address" required placeholder="Lahore, Pakistan">
</div>

<div class="group">
  <label>Phone *</label>
  <input id="phone" required placeholder="+923001234567">
</div>

<div class="group">
  <label>Email *</label>
  <input id="email" type="email" required>
</div>

<div class="group">
  <label>Website</label>
  <input id="website" placeholder="https://">
</div>

<div class="group">
  <label>Instagram</label>
  <input id="instagram" placeholder="https://">
</div>

<div class="group">
  <label>YouTube / LinkedIn</label>
  <input id="youtube" placeholder="https://">
</div>

<button id="generate">Generate Card</button>
</div>

<script>
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("sw.js");
}

profileImage.onchange = e=>{
  const r = new FileReader();
  r.onload = ()=>{
    preview.src = r.result;
    preview.style.display = "block";
  };
  r.readAsDataURL(e.target.files[0]);
};

generate.onclick = ()=>{
  if(!profileImage.files[0]){
    alert("Profile photo is required");
    return;
  }

  const data={
    name:name.value.trim(),
    businessName:businessName.value.trim(),
    businessInfo:businessInfo.value.trim(),
    address:address.value.trim(),
    phone:phone.value.trim(),
    email:email.value.trim(),
    website:website.value.trim(),
    instagram:instagram.value.trim(),
    youtube:youtube.value.trim(),
    profileImage:""
  };

  const r = new FileReader();
  r.onload = ()=>{
    data.profileImage = r.result;
    localStorage.setItem("cardData", JSON.stringify(data));
    location.href = "card.html";
  };
  r.readAsDataURL(profileImage.files[0]);
};
</script>
</body>
</html>
